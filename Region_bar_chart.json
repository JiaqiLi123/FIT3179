{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "description": "A simple bar chart with embedded data.",
  "width": 400,
  "height": 300,
  "title": "Number of volcanoes in each region",
  "data": {
    "url": "https://raw.githubusercontent.com/JiaqiLi123/FIT379/master/Cleaned_data.csv"
  },
  "params": [
    {
      "name": "Region_selection",
      "bind": {
        "input": "select",
        "options": [
          null,
          "Mediterranean and Western Asia",
          "Africa and Red Sea",
          "Middle East and Indian Ocean",
          "New Zealand to Fiji",
          "Melanesia and Australia",
          "Indonesia",
          "Philippines and SE Asia",
          "Japan, Taiwan, Marianas",
          "Kuril Islands",
          "Kamchatka and Mainland Asia",
          "Alaska",
          "Canada and Western USA",
          "Hawaii and Pacific Ocean",
          "México and Central America",
          "South America",
          "West Indies",
          "Iceland and Arctic Ocean",
          "Atlantic Ocean",
          "Antarctica"
        ],
        "labels": [
          "Show All",
          "Mediterranean and Western Asia",
          "Africa and Red Sea",
          "Middle East and Indian Ocean",
          "New Zealand to Fiji",
          "Melanesia and Australia",
          "Indonesia",
          "Philippines and SE Asia",
          "Japan, Taiwan, Marianas",
          "Kuril Islands",
          "Kamchatka and Mainland Asia",
          "Alaska",
          "Canada and Western USA",
          "Hawaii and Pacific Ocean",
          "México and Central America",
          "South America",
          "West Indies",
          "Iceland and Arctic Ocean",
          "Atlantic Ocean",
          "Antarctica"
        ],
        "name": "Region Selection: "
      }
    }
  ],
  "transform": [
    {"filter": "Region_selection == null || datum.Region == Region_selection"}
  ],
  "mark": "bar",
  "encoding": {
    "x": {"field": "Region", "title": "Region","sort":"-y","axis": {"labelAngle": 30}},
    "y": {
      "aggregate": "count",
      "type": "quantitative",
      "axis": {"tickCount": 3},
      "title": "Number of volcanic eruptions"
    },
    "tooltip": [
      {"field": "Region", "type": "nominal","title":"Region"},
      {"field": "Region", "aggregate": "count", "type": "nominal","title":"Number of volcanoes"}
    ]
  },
  "layer": [
    {"mark": "bar"},
    {
      "mark": {
        "type": "text",
        "align": "left",
        "baseline": "up",
        "dx": -12,
        "fontSize": 11.5,
        "fontStyle": "italic"
      },
      "encoding": {
        "text": {"field": "Region", "aggregate": "count", "type": "nominal"},
        "color": {"value": "black"}
      }
    }
  ],
  "config": {}
}

